classes:
  ElectrophysiologyAssessment:
    description: Electrophysiology assessment including EMG and nerve conduction studies (NCS)
    is_a: ClinicalAssessment
    attributes:
      # General EMG Information
      emgAttempted:
        title: EMG Attempted
        range: boolean
        description: Whether EMG assessment was attempted
        required: false
        
      emgNotDoneReason:
        title: EMG Not Done Reason
        range: EMGNotDoneReasonEnum
        description: Reason EMG was not performed
        required: false
        
      emgContraindication:
        title: EMG Contraindication
        range: string
        description: Specific contraindication for EMG
        required: false
        
      # Regional EMG Assessment - Craniobulbar
      emgCraniobulbarResult:
        title: EMG Craniobulbar Result
        range: EMGResultEnum
        description: EMG result for craniobulbar region
        required: false
        
      emgCraniobulbarAbnormal:
        title: EMG Craniobulbar Abnormal Findings
        range: EMGAbnormalFindingEnum
        description: Specific abnormal findings in craniobulbar region
        required: false
        
      # Regional EMG Assessment - Cervical
      emgCervicalResult:
        title: EMG Cervical Result
        range: EMGResultEnum
        description: EMG result for cervical region
        required: false
        
      emgCervicalAbnormal:
        title: EMG Cervical Abnormal Findings
        range: EMGAbnormalFindingEnum
        description: Specific abnormal findings in cervical region
        required: false
        
      # Regional EMG Assessment - Thoracic
      emgThoracicResult:
        title: EMG Thoracic Result
        range: EMGResultEnum
        description: EMG result for thoracic region
        required: false
        
      emgThoracicAbnormal:
        title: EMG Thoracic Abnormal Findings
        range: EMGAbnormalFindingEnum
        description: Specific abnormal findings in thoracic region
        required: false
        
      # Regional EMG Assessment - Lumbosacral
      emgLumbosacralResult:
        title: EMG Lumbosacral Result
        range: EMGResultEnum
        description: EMG result for lumbosacral region
        required: false
        
      emgLumbosacralAbnormal:
        title: EMG Lumbosacral Abnormal Findings
        range: EMGAbnormalFindingEnum
        description: Specific abnormal findings in lumbosacral region
        required: false
        
      # Awaji Criteria Assessment
      awajiCriteriaTotal:
        title: Awaji Criteria Total Score
        range: integer
        description: Total Awaji criteria score
        required: false
        
      awajiCriteriaMet:
        title: Awaji Criteria Met
        range: boolean
        description: Whether Awaji criteria are met for ALS diagnosis
        required: false
        
      awajiCraniobulbar:
        title: Awaji Criteria - Craniobulbar
        range: AwajiCriteriaEnum
        description: Awaji criteria assessment for craniobulbar region
        required: false
        
      awajiCervical:
        title: Awaji Criteria - Cervical
        range: AwajiCriteriaEnum
        description: Awaji criteria assessment for cervical region
        required: false
        
      awajiThoracic:
        title: Awaji Criteria - Thoracic
        range: AwajiCriteriaEnum
        description: Awaji criteria assessment for thoracic region
        required: false
        
      awajiLumbosacral:
        title: Awaji Criteria - Lumbosacral
        range: AwajiCriteriaEnum
        description: Awaji criteria assessment for lumbosacral region
        required: false

  NerveConductionStudy:
    description: Nerve conduction study results and parameters
    is_a: ClinicalAssessment
    attributes:
      # General NCS Information
      ncsAttempted:
        title: NCS Attempted
        range: boolean
        description: Whether nerve conduction study was attempted
        required: false
        
      ncsNotDoneReason:
        title: NCS Not Done Reason
        range: EMGNotDoneReasonEnum
        description: Reason NCS was not performed
        required: false
        
      # Motor NCS Results
      motorNCSResult:
        title: Motor NCS Result
        range: NCSResultEnum
        description: Overall motor nerve conduction study result
        required: false
        
      motorAmplitude:
        title: Motor Amplitude (mV)
        range: float
        description: Motor nerve compound muscle action potential amplitude
        required: false
        
      motorLatency:
        title: Motor Latency (ms)
        range: float
        description: Motor nerve distal latency in milliseconds
        required: false
        
      motorVelocity:
        title: Motor Velocity (m/s)
        range: float
        description: Motor nerve conduction velocity in meters per second
        required: false
        
      # Sensory NCS Results
      sensoryNCSResult:
        title: Sensory NCS Result
        range: NCSResultEnum
        description: Overall sensory nerve conduction study result
        required: false
        
      sensoryAmplitude:
        title: Sensory Amplitude (μV)
        range: float
        description: Sensory nerve action potential amplitude
        required: false
        
      sensoryLatency:
        title: Sensory Latency (ms)
        range: float
        description: Sensory nerve onset latency in milliseconds
        required: false
        
      sensoryVelocity:
        title: Sensory Velocity (m/s)
        range: float
        description: Sensory nerve conduction velocity in meters per second
        required: false
        
      # F-Wave Studies
      fWaveLatency:
        title: F-Wave Latency (ms)
        range: float
        description: F-wave minimal latency in milliseconds
        required: false
        
      fWavePersistence:
        title: F-Wave Persistence (%)
        range: float
        description: F-wave persistence percentage
        required: false
        
      # H-Reflex Studies
      hReflexLatency:
        title: H-Reflex Latency (ms)
        range: float
        description: H-reflex latency in milliseconds
        required: false
        
      hReflexAmplitude:
        title: H-Reflex Amplitude (mV)
        range: float
        description: H-reflex amplitude in millivolts
        required: false
        
      # Repetitive Stimulation
      repetitiveStimulationResult:
        title: Repetitive Stimulation Result
        range: RepetitiveStimResultEnum
        description: Repetitive stimulation study result
        required: false
        
      decrementalResponse:
        title: Decremental Response (%)
        range: float
        description: Percentage decremental response on repetitive stimulation
        required: false
        
      # Technical Parameters
      skinTemperature:
        title: Skin Temperature (°C)
        range: float
        description: Skin temperature during studies
        required: false
        
      examinerName:
        title: Examiner Name
        range: string
        description: Name of examiner performing the study
        required: false
        
      equipmentUsed:
        title: Equipment Used
        range: string
        description: EMG/NCS equipment model and manufacturer
        required: false

enums:
  EMGNotDoneReasonEnum:
    permissible_values:
      Patient_Refusal:
        description: Patient refused EMG procedure
      Medical_Contraindication:
        description: Medical contraindication present
      Equipment_Unavailable:
        description: EMG equipment not available
      Technical_Difficulty:
        description: Technical difficulty preventing completion
      Time_Constraints:
        description: Time constraints prevented completion
      Other:
        description: Other reason for not performing EMG

  EMGResultEnum:
    permissible_values:
      Normal:
        description: Normal EMG findings
      Abnormal:
        description: Abnormal EMG findings
      Borderline:
        description: Borderline abnormal findings
      Not_Done:
        description: EMG not performed for this region
      Technically_Inadequate:
        description: Technically inadequate study

  EMGAbnormalFindingEnum:
    permissible_values:
      Acute_Denervation:
        description: Evidence of acute denervation (fibrillations, positive waves)
      Chronic_Denervation:
        description: Evidence of chronic denervation (large amplitude, polyphasic potentials)
      Reduced_Recruitment:
        description: Reduced motor unit recruitment
      Fasciculations:
        description: Fasciculation potentials present
      Mixed_Pattern:
        description: Mixed acute and chronic changes
      Other:
        description: Other abnormal findings

  AwajiCriteriaEnum:
    permissible_values:
      Normal:
        description: Normal - no evidence of LMN dysfunction
      Possible_ALS:
        description: Possible ALS - some evidence of LMN dysfunction
      Meets_Awaji_Criteria:
        description: Meets Awaji criteria for ALS diagnosis
      Not_Assessed:
        description: Region not assessed

  NCSResultEnum:
    permissible_values:
      Normal:
        description: Normal nerve conduction
      Mild_Abnormal:
        description: Mildly abnormal conduction
      Moderate_Abnormal:
        description: Moderately abnormal conduction
      Severe_Abnormal:
        description: Severely abnormal conduction
      Absent_Response:
        description: No recordable response
      Not_Done:
        description: Study not performed

  RepetitiveStimResultEnum:
    permissible_values:
      Normal:
        description: Normal response to repetitive stimulation
      Decremental:
        description: Decremental response (>10% decrement)
      Incremental:
        description: Incremental response
      Post_Exercise_Exhaustion:
        description: Post-exercise exhaustion present
      Not_Done:
        description: Repetitive stimulation not performed